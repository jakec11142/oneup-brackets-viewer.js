/**
 * Style fixes for better zoom behavior and viewport consistency
 *
 * Apply these changes to improve bracket viewer scaling and zoom behavior.
 */

// Option 1: Fixed viewport with consistent scrolling (Recommended)
.brackets-viewer {
  // Set a fixed height for consistent viewport
  height: 80vh; // Or specific pixel height like 600px
  max-height: 80vh;
  overflow: auto; // Keep scrollbars

  // Improve scroll behavior
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;

  // Add container query support for better responsive sizing
  container-type: size;
  container-name: bracket-container;
}

// Option 2: Use CSS zoom-safe scaling units
.brackets-viewer {
  // Convert fixed pixel dimensions to rem for zoom scaling
  --bv-match-width: 9.375rem; // 150px / 16
  --bv-round-gap: 2.5rem; // 40px / 16
  --bv-match-horizontal-padding: 0.5rem; // 8px / 16
  --bv-match-vertical-padding: 0.375rem; // 6px / 16

  // Or use viewport units for responsive scaling
  --bv-match-width-vw: min(150px, 20vw);
  --bv-round-gap-vw: min(40px, 5vw);
}

// Option 3: Zoom-aware layout with CSS transform
.brackets-viewer {
  // Detect zoom level and adjust
  @media (min-resolution: 120dpi) {
    // High zoom adjustments
    --bv-space-sm: 6px; // Reduce spacing
    --bv-space-md: 10px;
    --bv-space-lg: 18px;
  }

  @media (max-resolution: 96dpi) {
    // Low zoom adjustments
    --bv-space-sm: 10px; // Increase spacing
    --bv-space-md: 18px;
    --bv-space-lg: 30px;
  }
}

// Option 4: Container queries for modern browsers
@container bracket-container (width > 1200px) {
  .match {
    width: 200px; // Larger matches on wide screens
  }
}

@container bracket-container (width < 600px) {
  .match {
    width: 120px; // Smaller matches on narrow screens
  }
}

// Fix for absolute positioning with zoom
.elimination {
  // Use CSS Grid instead of absolute positioning
  .bracket {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--bv-match-width), 1fr));
    gap: var(--bv-round-gap);

    .match {
      position: relative; // Instead of absolute
    }
  }
}

// Better scrollbar styling for consistency
.brackets-viewer {
  &::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  &::-webkit-scrollbar-track {
    background: var(--bv-surface-color);
    border-radius: 6px;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--bv-border-color);
    border-radius: 6px;

    &:hover {
      background: var(--bv-border-hover-color);
    }
  }
}